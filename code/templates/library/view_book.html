{% extends "layout.html" %}



{% block 'title' %} Vizualizar Livro{% endblock 'title' %}


{% block 'content' %}

    <div class="container">
        <div class="container">
            <img style="margin-right: 20px;" src="{{livro.image.url}}" class="rounded float-start" alt="capa_livro" width="270" height="300">
        </div>

        <h1>{{ livro.nome }}</h1>
        <hr class="hr" width="300px"/>
        <h6 class="card-subtitle mb-2 text-muted">{{livro.categoria}} | {{ livro.media_avaliacoes|default:"Sem avaliações" }} <svg color="yellow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg></h6>
        <p><strong>Autor:</strong> {{ livro.autor }}</p>
        <p><strong>Editora:</strong> {{ livro.editora }}</p>
        <p><strong>Cadastrado:</strong> {{livro.data_cadastro}}</p>
        <p style="word-wrap: break-word;" ><strong>Sinopse:</strong> {{ livro.sinopse }}</p> 
        {% if livro.emprestado %}   
            {% if tempo_restante %}
                <p><strong>Tempo Restante para Devolução:</strong> {{ tempo_restante.dias }}d {{ tempo_restante.horas }}h {{ tempo_restante.minutos }}m</p>
            {% endif %}
        {% endif %}
        </p>
        <a href="{% url 'home' %}" class="btn btn-primary">Voltar</a>
        {% if pode_avaliar %}
            <a href="{% url 'avaliar_livro' livro.id %}" class="btn btn-warning">Avaliar</a>
        {% endif %}
        <br><br>
        <h2>Avaliações</h2>
            <a href="{% url 'ver_avaliacoes' livro.id %}" class="btn btn-primary">Ver todas as avaliações</a>

    </div>
    <br> <br> <br>
    


{% endblock 'content' %}


